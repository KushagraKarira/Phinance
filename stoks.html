<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Stock Prices</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="apple-mobile-web-app-status-bar" content="#FAFAFA">
		<meta name="description" content="Finance">
		<meta name="author" content="Kushagra Karira, ChatGPT">
		<link rel="manifest" href="manifest.webmanifest" crossorigin="use-credentials">
		<link rel="apple-touch-icon" href="favicon.svg">
		<link rel="icon" href="favicon.svg" type="image/svg+xml">
		<meta name="theme-color" content="#FAFAFA">
		<link rel="stylesheet" href="style.css" type="text/css">"
</head>
<body>
    <table>
        <thead>
            <tr>
                <th>Price</th>
                <th>Change</th>
                <th>Price</th>
                <th>Change</th>
                <th>Price</th>
                <th>Change</th>
                <th>Price</th>
                <th>Change</th>
                <th>Price</th>
                <th>Change</th>
            </tr>
        </thead>
        <tbody id="stock-data">
        </tbody>
    </table>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script>
        // Replace YOUR_API_KEY with your actual Alpha Vantage API key
        const API_KEY = "DLQSQO7DUNU4FN2E";
        const API_URL = `https://www.alphavantage.co/query?function=BATCH_STOCK_QUOTES&symbols=AAPL,MSFT,AMZN,GOOGL,FB,TSLA,NVDA,PYPL,JPM,JNJ,V,UNH,PG,BAC,XOM,MA,DIS,HD,VZ,CVX,WMT,MRK,KO,PFE,CSCO&apikey=${API_KEY}`;

        // Format the number with commas and two decimal places
        function formatNumber(num) {
            return num.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,');
        }

        // Populate the table with the latest stock prices
        axios.get(API_URL)
            .then(response => {
                const stockData = response.data['Stock Quotes'];
                const tbody = document.getElementById("stock-data");
                stockData.forEach((stock, index) => {
                    const row = Math.floor(index / 10);
                    const col = index % 10;
                    const priceCell = tbody.rows[row].cells[col * 2 + 1];
                    const changeCell = tbody.rows[row].cells[col * 2 + 2];
                    const price = parseFloat(stock['2. price']);
                    const change = parseFloat(stock['9. change']);
                    priceCell.textContent = formatNumber(price);
                    changeCell.textContent = formatNumber(change);
                    if (change > 0) {
                        priceCell.style.backgroundColor = "green";
                        changeCell.style.backgroundColor = "green";
                        changeCell.textContent = "+" + changeCell.textContent;
                    } else if (change < 0) {
                        priceCell.style.backgroundColor = "red";
                        changeCell.style.backgroundColor = "red";
                    }
                });
            })
            .catch(error => {
                console.error(error);
            });
    </script>
</body>
</html>

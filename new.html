<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="apple-mobile-web-app-status-bar" content="#FAFAFA">
		<meta name="description" content="Finance">
		<meta name="author" content="Kushagra Karira, ChatGPT">
		<link rel="manifest" href="manifest.webmanifest" crossorigin="use-credentials">
		<link rel="apple-touch-icon" href="favicon.svg">
		<link rel="icon" href="favicon.svg" type="image/svg+xml">
		<meta name="theme-color" content="#FAFAFA">
		<link rel="stylesheet" href="style.css" type="text/css">
    <title>List of Indian Companies with IPO in Last Month</title>
  </head>
  <body>
    <h1>List of Indian Companies with IPO in Last Month</h1>

    <table>
      <thead>
        <tr>
          <th>Company Name</th>
          <th>IPO Date</th>
          <th>Exchange</th>
        </tr>
      </thead>
      <tbody id="ipo-list"></tbody>
    </table>

    <script>
      const currentDate = new Date();
      const lastMonthDate = new Date();
      lastMonthDate.setMonth(currentDate.getMonth() - 1);

      const currentDateStr = currentDate.toISOString().slice(0, 10);
      const lastMonthDateStr = lastMonthDate.toISOString().slice(0, 10);

      const apiKey = "5b38085c4451c128b9b0919a0dffab8f";
      const url = `https://financialmodelingprep.com/api/v3/stock_news?tickers=INDIA&limit=100&apikey=${apiKey}`;

      fetch(url)
        .then(response => response.json())
        .then(data => {
          const ipoList = document.getElementById("ipo-list");
          data.forEach(entry => {
            const ipoDate = new Date(entry.publishedDate);
            if (ipoDate >= lastMonthDate && ipoDate <= currentDate) {
              const row = document.createElement("tr");
              const companyName = document.createElement("td");
              companyName.textContent = entry.title;
              const ipoDateCell = document.createElement("td");
              ipoDateCell.textContent = ipoDate.toLocaleDateString("en-IN");
              const exchange = document.createElement("td");
              exchange.textContent = "BSE"; // Assume all Indian IPOs are on BSE
              row.append(companyName, ipoDateCell, exchange);
              ipoList.appendChild(row);
            }
          });
        })
        .catch(error => console.error(error));
    </script>
  </body>
</html>

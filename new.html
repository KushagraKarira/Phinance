<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="apple-mobile-web-app-status-bar" content="#FAFAFA">
		<meta name="description" content="Finance">
		<meta name="author" content="Kushagra Karira, ChatGPT">
		<link rel="manifest" href="manifest.webmanifest" crossorigin="use-credentials">
		<link rel="apple-touch-icon" href="favicon.svg">
		<link rel="icon" href="favicon.svg" type="image/svg+xml">
		<meta name="theme-color" content="#FAFAFA">
		<link rel="stylesheet" href="style.css" type="text/css">"
    <title>List of Indian Companies with IPO in Last Month</title>
    <style>
      table {
        border-collapse: collapse;
        width: 100%;
      }

      th, td {
        text-align: left;
        padding: 8px;
        border-bottom: 1px solid #ddd;
      }

      tr:hover {
        background-color: #f5f5f5;
      }

      th {
        background-color: #4CAF50;
        color: white;
      }
    </style>
  </head>
  <body>
    <h1>List of Indian Companies with IPO in Last Month</h1>

    <table>
      <thead>
        <tr>
          <th>Company Name</th>
          <th>IPO Date</th>
          <th>Exchange</th>
        </tr>
      </thead>
      <tbody id="ipo-list"></tbody>
    </table>

    <script>
      // Get the current date and subtract 1 month
      const currentDate = new Date();
      const lastMonthDate = new Date();
      lastMonthDate.setMonth(currentDate.getMonth() - 1);

      // Format the dates as YYYY-MM-DD for use with the Yahoo Finance API
      const currentDateStr = currentDate.toISOString().slice(0, 10);
      const lastMonthDateStr = lastMonthDate.toISOString().slice(0, 10);

      // Build the URL for the Yahoo Finance API
      const url = `https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/v2/get-historical-data?symbol=.INX&frequency=1d&filter=history&period1=${lastMonthDate.getTime() / 1000}&period2=${currentDate.getTime() / 1000}`;

      fetch(url, {
        method: "GET",
        headers: {
          "x-rapidapi-key": "0153f2df24msh7f34b10b0f36dc8p1435e0jsncd9de0d2aa61",
          "x-rapidapi-host": "apidojo-yahoo-finance-v1.p.rapidapi.com"
        }
      })
        .then(response => response.json())
        .then(data => {
          const ipoList = document.getElementById("ipo-list");
          data.history.forEach(entry => {
            const ipoDate = new Date(entry.date);
            if (ipoDate >= lastMonthDate && ipoDate <= currentDate && entry.volume !== 0) {
              const row = document.createElement("tr");
              const companyName = document.createElement("td");
              companyName.textContent = entry.symbol;
              const ipoDateCell = document.createElement("td");
              ipoDateCell.textContent = ipoDate.toLocaleDateString("en-IN");
              const exchange = document.createElement("td");
              exchange.textContent = "BSE"; // Assume all Indian IPOs are on BSE
              row.append(companyName, ipoDateCell, exchange);
              ipoList.appendChild(row);
            }
          });
        })
        .catch(error => console.error(error));
    </script>
  </body>
</html>

